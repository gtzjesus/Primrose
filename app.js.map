{"mappings":";;;;;;AAAA,kBAAkB,GAClB;ACDA;ACAA,kBAAkB,GAElB,AAAO,MAAM,4CAAY,IAAM;IAC7B,MAAM,KAAK,SAAS,aAAa,CAAC;IAClC,IAAI,IAAI,GAAG,aAAa,CAAC,WAAW,CAAC;AACvC;AAGO,MAAM,4CAAY,CAAC,MAAM,MAAQ;IACtC;IACA,MAAM,SAAS,CAAC,yBAAyB,EAAE,KAAK,EAAE,EAAE,IAAI,MAAM,CAAC;IAC/D,SAAS,aAAa,CAAC,QAAQ,kBAAkB,CAAC,cAAc;IAChE,OAAO,UAAU,CAAC,2CAAW;AAC/B;;;ADXO,MAAM,4CAAQ,OAAO,OAAO,WAAa;IAC9C,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,sCAAI,EAAE;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBACJ;0BACA;YACF;QACF;QAEA,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;YACjC,CAAA,GAAA,yCAAS,AAAD,EAAE,WAAW;YACrB,OAAO,UAAU,CAAC,IAAM;gBACtB,SAAS,MAAM,CAAC;YAClB,GAAG;QACL,CAAC;IACH,EAAE,OAAO,KAAK;QACZ,CAAA,GAAA,yCAAQ,EAAE,SAAS,IAAI,QAAQ;IACjC;AACF;AAEO,MAAM,4CAAS,UAAY;IAChC,IAAI;QACF,MAAM,MAAM,MAAM,CAAA,GAAA,sCAAI,EAAE;YACtB,QAAQ;YACR,KAAK;QACP;QACK,IAAI,IAAI,CAAC,MAAM,GAAG;QAAY,SAAS,MAAM,CAAC,IAAI;IACzD,EAAE,OAAO,KAAK;QACZ,QAAQ,GAAG,CAAC,MAAM,QAAQ;QAC1B,CAAA,GAAA,yCAAS,AAAD,EAAE,SAAS;IACrB;AACF;;;AD/BA,eAAe;AACf,MAAM,kCAAY,SAAS,aAAa,CAAC;AACzC,MAAM,qCAAe,SAAS,aAAa,CAAC;AAE5C,IAAI,iCACF,gCAAU,gBAAgB,CAAC,UAAU,CAAC,IAAM;IAC1C,EAAE,cAAc;IAChB,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;IACpD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;IAC1D,CAAA,GAAA,yCAAK,AAAD,EAAE,OAAO;AACf;AAEF,IAAI,oCAAc,mCAAa,gBAAgB,CAAC,SAAS,CAAA,GAAA,yCAAK","sources":["public/js/index.js","public/js/login.js","public/js/alerts.js"],"sourcesContent":["/* eslint-disable */\nimport '@babel/polyfill';\nimport { login, logout } from './login';\n\n// DOM ELEMENTS\nconst loginForm = document.querySelector('.form');\nconst logOutButton = document.querySelector('.nav__el--logo');\n\nif (loginForm)\n  loginForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    login(email, password);\n  });\n\nif (logOutButton) logOutButton.addEventListener('click', logout);\n","import axios from 'axios';\nimport { showAlert } from './alerts';\nexport const login = async (email, password) => {\n  try {\n    const res = await axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:7000/api/users/login',\n      data: {\n        email,\n        password,\n      },\n    });\n\n    if (res.data.status === 'success') {\n      showAlert('success', 'Logged in successfully!');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n  } catch (err) {\n    showAlert('error', err.response);\n  }\n};\n\nexport const logout = async () => {\n  try {\n    const res = await axios({\n      method: 'GET',\n      url: 'http://127.0.0.1:7000/api/users/login',\n    });\n    if ((res.data.status = 'success')) location.reload(true);\n  } catch (err) {\n    console.log(error.response);\n    showAlert('error', 'Error logging out, try again!');\n  }\n};\n","/* eslint-disable */\n\nexport const hideAlert = () => {\n  const el = document.querySelector('.alert');\n  if (el) el.parentElement.removeChild(el);\n};\n\n// type is 'success' or 'error'\nexport const showAlert = (type, msg) => {\n  hideAlert();\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n  window.setTimeout(hideAlert, 5000);\n};\n"],"names":[],"version":3,"file":"app.js.map","sourceRoot":"/"}